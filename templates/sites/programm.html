{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.108.0">
    <title>Programm | Talu Festival</title>
    <link rel="icon" type="image/x-icon" href="{% static 'img/talu_festival-logo_transparent-small.png' %}">
    <link rel="stylesheet" href="{% static 'css/themesberg.css' %}">
    <link rel="stylesheet" href="https://use.typekit.net/uzf0aes.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!--Latest compiled JavaScript-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</head>

<body style="background-color: #F0EAD2;">
    <!-- Back to top button -->
    <a id="back-to-top"></a>
    <script type="text/javascript">
        // back to top
        var btn = $('#back-to-top');

        $(window).scroll(function() {
          if ($(window).scrollTop() > 300) {
            btn.addClass('show');
          } else {
            btn.removeClass('show');
          }
        });

        btn.on('click', function(e) {
          e.preventDefault();
          $('html, body').animate({scrollTop:0}, '300');
        });
    </script>

<header style="background-color: #D2D8F0;">
        <div id='header-container' class="container-sm d-flex justify-content-between align-items-center h-100 p-2">
          
          <div class="d-flex justify-content-baseline">
                <!--<img src="img/talu_festival-logo_transparent-small.png" alt="talu_festival-logo" width=40 height=40>-->
                <a id="home-link" class="fs-1 align-items-center" href="/" style="color: #EE767A;">Talu</a>
          </div>
            <div class="d-inline-flex justify-content-center">
              <nav class="nav nav-masthead justify-content-center align-items-center float-lg-end d-none d-lg-flex">
            <a class="nav-link py-1 fs-4 px-0" href="/#vision">Vision</a>
            <a class="nav-link py-1 fs-4 px-0" href="/#program">Programm</a>
            <a class="nav-link py-1 fs-4 px-0" href="/#ticket">Tickets</a>
            <a class="nav-link py-1 fs-4 px-0" href="/#faq">FAQ</a>
          </nav>

            <nav class="navbar p-0 d-md-flex d-lg-none">
                <button class="navbar-toggler h-100" type="button" id="OpenMenu">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                  <div class="offcanvas-header d-flex align-items-right">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                  </div>
                  <div class="offcanvas-body">
                    <ul class="navbar-nav d-flex justify-content-center align-items-center h-100">
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="/#vision">Vision</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="/#program">Programm</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="/#ticket">Tickets</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="/#faq">FAQ</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </nav>

            <script type="text/javascript">

                // workaround: offcanvas navigation not jump back to top after
                // clicking anchor link
                document.addEventListener("DOMContentLoaded", function(){
                  var myOffcanvas = document.getElementById('offcanvasNavbar');
                  var bsOffcanvas = new bootstrap.Offcanvas(myOffcanvas);
                  document.getElementById("OpenMenu").addEventListener('click',function (e){
                    e.preventDefault();
                    e.stopPropagation();
                    bsOffcanvas.toggle();
                  });
                });
            </script>

        {% if user.is_authenticated %}
            <div class="dropdown">
              <button id="user-icon" class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"> {{user.vorname}}</button>
              <ul class="dropdown-menu">
                <li>
                    <div class= "dropdown-item" >
                        <form method='post'>
                                {% csrf_token %}
                                <input type="hidden" id="form_goal" name="form_goal" value="logout">
                                <button class="dropdown-item p-0" type="submit" >Logout</button>
                        </form>
                    </div>
                </li>
              </ul>
            </div>
        {% else %}
            <a id="login-button"class="nav-link fs-4 ms-3 p-2 rounded text-light" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Login</a>
        {% endif %}
        </div>
      </div>

</header>

     <section>
        <div class="container">
            <h1 class="section-title">programm:</h1>

            <div class="p-4 mb-3 rounded fs-6" style="background-color: #D2D8EE"> Das Talu Festival ist ein einzigartiges Event, das nur möglich ist, weil wir in unserem erweiterten Freundeskreis kreative Menschen haben, die ihre künstlerischen Talente ausleben möchten. Uns liegt viel daran ein nicht-kommerzielles Festival zu sein und nicht viel Geld von euch einzufordern. Zu unserem Glück verzichten alle Künstler auf eine Gage. Daher an dieser Stelle schon mal Props an euch!<br>
            Auf dieser Seite möchten wir den Künstler*innen eine zusätzliche Bühne bieten, um sich in eigenen Worten vorzustellen.</div>
            

            <ul class="nav nav-pills mb-3 justify-content-center mb-4" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                <button class="nav-link nav-link-programm active" id="pills-acts-tab" data-bs-toggle="pill" data-bs-target="#pills-acts" type="button" role="tab" aria-controls="pills-acts" aria-selected="true">Musik</button>
                </li>
                <li class="nav-item" role="presentation">
                <button class="nav-link nav-link-programm" id="pills-workshop-tab" data-bs-toggle="pill" data-bs-target="#pills-workshop" type="button" role="tab" aria-controls="pills-workshop" aria-selected="false">Workshops</button>
                </li>
            </ul>
            
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade active show" id="pills-acts" role="tabpanel" aria-labelledby="pills-acts-tab" tabindex="0">
                <div class="row g-3">
                    {% for act in act_list %}
                    <div class="col-md-6 col-xl-4">
                        <div class="rect-img-container music-div">
                            <img class="rect-img rounded" src="{%if act.image%}{{act.image.url}}{%else%}{% static 'img/transparent_Klein.png'%}{%endif%}" alt="{{act.stage_name}} Image">
                            <div class="overlay-bg rounded"></div>
                            <div class="overlay p-3">
                                <p class="text-black-50 fs-6 mb-0">{% for user in act.corresponding_users.all %}
                                    {% if forloop.first %}{{user.vorname}}{% else %}| {{user.vorname}}
                                    {% endif %}
                                {% endfor %}</p>
                                
                                <h3 class="artist-title rounded">{{act.stage_name}}</h3>
                                {% if act.insta_url|length %}
                                <a style="color: inherit;" target="_blank" rel="noopener" href="{{act.insta_url}}"><i class="fa-brands fa-instagram fa-lg" aria-hidden="true"></i></a>
                                {% endif %}
                                
                                {% if act.sound_sample_url|length %}
                                <a style="color: inherit;" target="_blank" rel="noopener" href="{{act.sound_sample_url}}"><i class="fa-solid fa-music" aria-hidden="true"></i></a>
                                {% endif %}
                                
                                <p>{{act.description}}</p>

                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                <div class="tab-pane fade" id="pills-workshop" role="tabpanel" aria-labelledby="pills-workshop-tab" tabindex="0">
                <div class="row g-3">
                    
                    {% for workshop in workshop_list %}
                    <div class="col-md-6 col-xl-4">
                        <div class="rect-img-container workshop-div">
                            <img class="rect-img rounded" src="{%if workshop.image%}{{workshop.image.url}}{%else%}{%static 'img/transparent_Klein.png'%}{%endif%}" alt="{{workshop.name}} Image">
                            <div class="overlay-bg rounded"></div>
                            <div class="overlay p-3">
                                <p class="text-black-50 fs-6 mb-0">{% for user in workshop.corresponding_users.all %}
                                    {% if forloop.first %}
                                        {{user.vorname}}
                                    {% else %}
                                        , {{user.vorname}}
                                    {% endif %}
                                {% endfor %}</p>
                                <h3 class="artist-title rounded mb-2">{{workshop.name}}</h3>
                                
                                <p class="mb-1"><b>max. Personen:</b> {{workshop.max_participants}}</p>
                                <p class="mb-1"><b>Preis:</b> {{workshop.price}}€ </p>

                                <p>{{workshop.description}}</p>
                            </div>
                        </div>
                    </div>  
                    {% endfor %}

                </div>
            </div>
        </div>
    </section> 

    <script type="text/javascript">

        $(document).ready(function(){
            var searchParams = new URLSearchParams(window.location.search)
            if(searchParams.has('active')){
                if(searchParams.get('active') == "workshop") {
                    $('#pills-workshop-tab, #pills-acts-tab').toggleClass('active');

                    $('#pills-workshop, #pills-acts').toggleClass('active show');
                }
            }
        });
    </script>

  </body>
</html>
