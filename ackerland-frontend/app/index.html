{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Clemens Richter, Bjarne Stüpmann">
    <meta name="generator" content="Hugo 0.108.0">
    <title>Talu Festival</title>
    <link rel="icon" type="image/x-icon" href="{% static 'img/talu_festival-logo_transparent-small.png' %}">

    <link rel="stylesheet" href="{% static 'css/themesberg.css' %}">
        <link rel="stylesheet" href="{% static 'css/custom.css' %}">

    <link rel="stylesheet" href="https://use.typekit.net/uzf0aes.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!--Latest compiled JavaScript-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Back to top button -->
    <a id="back-to-top"></a>
    <script type="text/javascript">
        // back to top
        var btn = $('#back-to-top');

        $(window).scroll(function() {
          if ($(window).scrollTop() > 300) {
            btn.addClass('show');
          } else {
            btn.removeClass('show');
          }
        });

        btn.on('click', function(e) {
          e.preventDefault();
          $('html, body').animate({scrollTop:0}, '300');
        });
    </script>

    <header style="background-color: #D2D8F0;">
        <div id='header-container' class="container-sm d-flex justify-content-between align-items-center h-100 p-2">
          
          <div class="d-flex justify-content-baseline">
                <!--<img src="img/talu_festival-logo_transparent-small.png" alt="talu_festival-logo" width=40 height=40>-->
                <a id="home-link" class="fs-1 align-items-center" href="" style="color: #EE767A;">Talu</a>
          </div>
            <div class="d-inline-flex justify-content-center">
              <nav class="nav nav-masthead justify-content-center align-items-center float-md-end d-none d-md-flex">
            <a class="nav-link py-1 fs-4 px-0" href="#vision">Vision</a>
            <a class="nav-link py-1 fs-4 px-0" href="#program">Programm</a>
            <a class="nav-link py-1 fs-4 px-0" href="#ticket">Tickets</a>
            <a class="nav-link py-1 fs-4 px-0" href="#faq">FAQ</a>
          </nav>

            <nav class="navbar p-0 d-sm-flex d-md-none">
                <button class="navbar-toggler h-100" type="button" id="OpenMenu">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                  <div class="offcanvas-header d-flex align-items-right">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                  </div>
                  <div class="offcanvas-body">
                    <ul class="navbar-nav d-flex justify-content-center align-items-center h-100">
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="#vision">Vision</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="#program">Programm</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="#ticket">Tickets</a>
                      </li>
                      <li class="nav-item" data-bs-dismiss="offcanvas">
                        <a class="nav-link fs-2 py-1 px-0" href="#faq">FAQ</a>
                      </li>
                    </ul>
                  </div>
                </div>
            </nav>

            <script type="text/javascript">

                // workaround: offcanvas navigation not jump back to top after
                // clicking anchor link
                document.addEventListener("DOMContentLoaded", function(){
                  var myOffcanvas = document.getElementById('offcanvasNavbar');
                  var bsOffcanvas = new bootstrap.Offcanvas(myOffcanvas);
                  document.getElementById("OpenMenu").addEventListener('click',function (e){
                    e.preventDefault();
                    e.stopPropagation();
                    bsOffcanvas.toggle();
                  });
                });
            </script>

        {% if user.is_authenticated %}
            <div class="dropdown">
              <button id="user-icon" class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">{{user.vorname}}</button>
              <ul class="dropdown-menu">
                <li>
                    <div class= "dropdown-item" >
                        <form method='post'>
                                {% csrf_token %}
                                <input type="hidden" id="form_goal" name="form_goal" value="logout">
                                <button class="dropdown-item" type="submit" >logout</button>
                        </form>
                    </div>
                </li>
              </ul>
            </div>
        {% else %}
            <a id="login-button"class="nav-link fs-4 ms-3 p-2 rounded text-light" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">login</a>
        {% endif %}
        </div>
      </div>

    </header>


    <section id="hero">

        <div class="container-sm d-flex flex-column justify-content-center align-items-center h-100">
        </div>
    </section>

    <section id="vision">

        <div class="vision container-lg">
        
            <h1 class="section-title mb-4">vision:</h1>

            <div class="row">
                <div class="col-md-6">
                    <div id="lexica-div" class="mb-4 py-3 px-4 rounded" style="background-color: #EFC859;">
                        <p class="mb-0 fs-3 fw-bold">
                            ta&#11825;lu 
                        </p>
                        <p id="lexicaDescription" class="mb-0 fs-4 fw-lighter fst-italic">
                            [estnisch: Bauernhof]
                        </p>
                        <p class="fs-5 mb-0"> 
                             kleiner landwirtschaftlicher Betrieb als Gesamtheit von Wohnhaus, Stallungen, Wirtschaftsgelände und Feldern.
                        </p>
                    </div>

                    <div class="mb-4 py-3 px-4 rounded" style="background-color: #D2D8EE;">
                        
                        <p class="fs-4 fw-bold mb-1"> 
                            liebe freund:innen,
                        </p>
                        <p class="fs-5 mb-0">
                            mit großer freude laden wir euch ein gemeinsam mit uns auf dem ackerland zu feiern.
                        </p>
                    </div>

                </div>
                <div class="col-md-6">
                    
                    <div class="mb-4 py-3 px-4 rounded" style="background-color: #D2D8EE;">
                        <p class="fs-5 mb-0"> 
                        irgendwo im nirgendwo bei tag und nacht zwischen house, techno und jedermannsmusik.

                        </p>
                    </div>
                    <div class="mb-4 py-3 px-4 rounded" style="background-color: #D2D8EE;">
                        <p class="fs-5 mb-0"> 
                             außerdem ist für ein buntes programm von workshops und verschiedenen anderen aktivitäten gesorgt.
                        </p>
                    </div>
            </div>

        </div>
    </section>


    <section id="program">

        <div class="program container-lg">
        
            <h1 class="section-title mb-4">programm:</h1>

            <div id="program-wrapper" class="music-style mx-3 rounded">

                <ul class="nav nav-pills justify-content-center" id="myTab" role="tablist">
                  
                  <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="music-tab" data-bs-toggle="pill" data-bs-target="#music" type="button" role="tab" aria-controls="music" aria-selected="true" onclick="switchToMusicView()">musik</button>
                  </li>
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="workshop-tab" data-bs-toggle="pill" data-bs-target="#workshop" type="button" role="tab" aria-controls="workshop" aria-selected="false" onclick="switchToWorkshopView()">workshops</button>
                  </li>

                </ul>

                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="music" role="tabpanel" aria-labelledby="music-tab">

                        <div class="artists p-2 d-flex">
                            
                            <div class="w-100 h-100 d-flex justify-content-center align-items-center text-muted fs-5 my-4 ">coming soon ...</div>
                            <!--
                            <ul id="artist-list">
                            </ul>
                        -->
                        </div>

                    </div>

                    <div class="tab-pane fade" id="workshop" role="tabpanel" aria-labelledby="workshop-tab">

                        <div class="artists p-2 d-flex">
                            
<!--                             <ul id="artist-list">
                                <li>:)</li>
                            </ul> -->
                        </div>
                    </div>

                </div>            
        </div>


        </div>
    
    </section>

    <section id="ticket">

        <div class="container-sm" id="ticket-section">
            
            <h1 class="section-title">tickets:</h1>

            <a>
                <h3 class="text-decoration-underline" align="center" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" style="color: blue;"> >>> hier entlang <<< </h3>
            </a>
            {% if expand_canvas_right %}
                <div class="offcanvas offcanvas-end show" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            {% else %}
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            {% endif %}
                <div class="offcanvas-header">
                    <h5 id="offcanvasRightLabel">ticketübersicht</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                
                <div class="offcanvas-body">
                    
                <ul class="nav nav-pills mb-3" id="pills-tab-ticket" role="tablist">
                  {% if user.is_authenticated %}
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-status-tab" data-bs-toggle="pill" data-bs-target="#pills-status" type="button" role="tab" aria-controls="pills-status" aria-selected="true">ticketstatus</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-logout-tab" data-bs-toggle="pill" data-bs-target="#pills-logout" type="button" role="tab" aria-controls="pills-logout" aria-selected="false">account</button>
                    </li>
                  {% else %}
                    {% if expand_canvas_right == 'login'%}
                      <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-login-tab" data-bs-toggle="pill" data-bs-target="#pills-login" type="button" role="tab" aria-controls="pills-login" aria-selected="true">einloggen</button>
                      </li>
                      <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-signup-tab" data-bs-toggle="pill" data-bs-target="#pills-signup" type="button" role="tab" aria-controls="pills-signup" aria-selected="false">anmelden</button>
                      </li>
                    {% else %}
                      <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-login-tab" data-bs-toggle="pill" data-bs-target="#pills-login" type="button" role="tab" aria-controls="pills-login" aria-selected="true">einloggen</button>
                      </li>
                      <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-signup-tab" data-bs-toggle="pill" data-bs-target="#pills-signup" type="button" role="tab" aria-controls="pills-signup" aria-selected="false">anmelden</button>
                    {% endif %}
                  {% endif %}
                </ul>
                
                <div class="tab-content" id="pills-tabContent">
                  
                  {% if user.is_authenticated %}
                  <div class="tab-pane fade show active" id="pills-status" role="tabpanel" aria-labelledby="pills-status-tab">
                    <p>Ticket: 20€</p>
                    <p>Kontoinhaber: Clemens Richter</p>
                    <p>IBAN: DE79 1309 1054 0008 2070 11</p>
                    <p>Betreff: Talu, {{user.vorname}}, {{user.nachname}}</p>
                    <p>Bezahlstatus: In Bearbeitung...</p>
                </div>
                <div class="tab-pane fade" id="pills-logout" role="tabpanel" aria-labelledby="pills-logout-tab">
                    <form method="post">
                    {% csrf_token %}
                      <input type="hidden" id="form_goal" name="form_goal" value="logout">
                      <button class="btn btn-dark" type="submit">logout</button>
                    </form>
                  </div>
                    {% else %}
                        {% if expand_canvas_right == 'login' %}
                          <div class="tab-pane fade show active" id="pills-login" role="tabpanel" aria-labelledby="pills-login-tab">

                            <form method="post">
                              {% csrf_token %}
                              {{ login_form.as_p }}
                              <input type="hidden" id="form_goal" name="form_goal" value="login">
                              <button class="btn btn-dark" type="submit">einloggen</button>
                            </form>

                          </div>
                          <div class="tab-pane fade" id="pills-signup" role="tabpanel" aria-labelledby="pills-signup-tab">
                            <form method="post">
                              {% csrf_token %}
                              {{ signup_form.as_p }}
                              <input type="hidden" id="form_goal" name="form_goal" value="signup">
                              <button class="btn btn-dark" type="submit">anmelden</button>
                            </form>
                          </div>
                        {% else %}
                            <div class="tab-pane fade" id="pills-login" role="tabpanel" aria-labelledby="pills-login-tab">

                            <form method="post">
                              {% csrf_token %}
                              {{ login_form.as_p }}
                              <input type="hidden" id="form_goal" name="form_goal" value="login">
                              <button class="btn btn-dark" type="submit">einloggen</button>
                            </form>

                          </div>
                          <div class="tab-pane fade show active" id="pills-signup" role="tabpanel" aria-labelledby="pills-signup-tab">
                            <form method="post">
                              {% csrf_token %}
                              {{ signup_form.as_p }}
                              <input type="hidden" id="form_goal" name="form_goal" value="signup">
                              <button class="btn btn-dark" type="submit">anmelden</button>
                            </form>
                          </div>
                        {% endif%}
                    {% endif %}
                </div>
                </div>
            </div>

        </div>


 
        

    </section>

    <section id="faq">
        
        <div class="container-sm" id="faq-section">
        <h1 class="section-title">faq:</h1>

<div class="accordion" id="faq-accordion">

<div class="container">
  <div class="row">

    <div class="col-sm">
    {% for faq in faq_list %}
        {% if not forloop.counter|divisibleby:"2" %} {# is odd #}
        <div class="accordion-item">
        <h2 class="accordion-header" id="heading{{forloop.counter}}">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{forloop.counter}}" aria-expanded="false" aria-controls="collapse{{forloop.counter}}">
            {{faq.topic}}
          </button>
        </h2>
        <div id="collapse{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="heading{{forloop.counter}}" data-bs-parent="#faq-accordion">
          <div class="accordion-body">
            {{faq.text}}
          </div>
        </div>
      </div>
         {% endif %}
    {% endfor %}
    </div>
    <div class="col-sm">

        {% for faq in faq_list %}
            {% if forloop.counter|divisibleby:"2" %} {# is even #}
            <div class="accordion-item">
            <h2 class="accordion-header" id="heading{{forloop.counter}}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{forloop.counter}}" aria-expanded="false" aria-controls="collapse{{forloop.counter}}">
                {{faq.topic}}
              </button>
            </h2>
            <div id="collapse{{forloop.counter}}" class="accordion-collapse collapse" aria-labelledby="heading{{forloop.counter}}" data-bs-parent="#faq-accordion">
              <div class="accordion-body">
                {{faq.text}}
              </div>
            </div>
          </div>
          {% endif %}
        {% endfor %}

      </div>
  </div>
</div>        

        </div>
    </div>
    </section>

    <script>
        function switchToWorkshopView(){
            var classes = document.getElementById("program-wrapper").classList;
            if(classes.contains("music-style")){
                classes.remove("music-style");
            }
        }

        function switchToMusicView(){
            var classes = document.getElementById("program-wrapper").classList;
            if(!(classes.contains("music-style"))){
                classes.add("music-style");
            }
        }

    </script>

       <!-- Modals -->
        <div class="modal fade" id="verificationModal" tabindex="-1" aria-labelledby="verificationModalLabel" aria-hidden="true">
          
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                
                <h1 class="modal-title fs-5" id="verificationModalLabel">Account erfolgreich aktiviert</h1> 
                
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              
              <div class="modal-body">
                Vielen Dank für deine Accountaktivierung. Du kannst dich nun einloggen und dein Ticketstatus einsehen.
              </div>
              
              <div class="modal-footer">
                <button type="button" data-bs-dismiss="modal" class="btn green-btn">Alles klar</button>
              </div>
            </div>
          </div>


        </div>

          <script type="text/javascript">
                
            $(document).ready(function(){
                
                var searchParams = new URLSearchParams(window.location.search)
                if(searchParams.has('verification')){
                    if(searchParams.get('verification') == "true") {
                        $('#verificationModal').modal('show');
                    }
                }
            });
              
          </script>



          {% if logout %}
        <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
          
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                
                <h1 class="modal-title fs-5" id="logoutModalLabel">Erfolgreich ausgeloggt</h1> 
                
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              
              <div class="modal-body">
                Vielen Dank fürs Vorbeischauen. Bis zum nächsten Mal! 👋
              </div>
              
              <div class="modal-footer">
                <button type="button" data-bs-dismiss="modal" class="btn green-btn">Bis bald!</button>
              </div>
            </div>
          </div>


        </div>

          <script type="text/javascript">
                
            $(document).ready(function(){
                $('#logoutModal').modal('show');
            });
              
          </script>
          {% endif %}


        {% if signup %}
        <div class="modal fade" id="signUpModal" tabindex="-1" aria-labelledby="signUpModalLabel" aria-hidden="true">
          
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                
                <h1 class="modal-title fs-5" id="signUpModalLabel">Registrierung erfolgreich</h1> 
                
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              
              <div class="modal-body">
                Schön, dass Du dabei bist. Du hast jetzt eine E-Mail mit einem Aktivierungslink für Deinen Account erhalten. Erst nach erfolgreicher Aktivierung kannst Du Dich einloggen.
              </div>
              
              <div class="modal-footer">
                <button type="button" data-bs-dismiss="modal" class="btn green-btn">Alles klar</button>
              </div>
            </div>
          </div>


        </div>


          <script type="text/javascript">
                
            $(document).ready(function(){
                $('#signUpModal').modal('show');
            });
              
          </script>
        {% endif %}


  </body>
</html>
